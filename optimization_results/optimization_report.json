{
  "timestamp": "2025-07-21T20:37:04.530925",
  "configuration": {
    "optimization_config": {
      "n_channels": 3,
      "wavelength_bounds": [
        500,
        700
      ],
      "bandwidth_bounds": [
        15.0,
        50.0
      ],
      "n_filter_trials": 200,
      "optimize_excitation": true,
      "excitation_search_range": 30.0,
      "n_training_samples": 5000,
      "n_validation_samples": 1000,
      "n_evaluation_trials": 100,
      "min_r_squared": 0.7,
      "max_crosstalk": 0.3,
      "save_results": true,
      "generate_plots": true,
      "verbose": true
    },
    "experimental_constraints": {
      "available_lasers": null,
      "available_filters": null,
      "min_photon_budget": 100.0,
      "max_photon_budget": 1000.0,
      "background_level": 30.0
    },
    "spectra_directory": "data/spectra_npz"
  },
  "fluorophores": [
    "AF488",
    "AF555",
    "AF647"
  ],
  "optimization_results": {
    "optimal_filters": {
      "center_wavelengths": [
        595.0240320896266,
        599.4457526338305,
        614.3500614227268
      ],
      "bandwidths": [
        48.65382026585599,
        45.180156896145576,
        28.400748078414658
      ],
      "score": 16.221577794811513
    },
    "optimal_excitation": {
      "AF488": "497",
      "AF555": "552",
      "AF647": "650"
    }
  },
  "performance_metrics": {
    "validation": {
      "n_samples": 1000,
      "mean_r_squared": "0.49886206",
      "std_r_squared": "0.07211568",
      "median_r_squared": "0.49941295",
      "r_squared_values": "[0.4953674  0.58132446 0.43723974 0.52189237 0.6031332  0.37631577\n 0.48242462 0.6377767  0.52211833 0.59557307 0.52005976 0.5770401\n 0.3777561  0.4871373  0.39922565 0.54316187 0.4823904  0.55588436\n 0.64341545 0.4689128  0.42087075 0.4405774  0.5592733  0.55593026\n 0.47048432 0.46230018 0.4949518  0.5824476  0.54647315 0.57088596\n 0.37566108 0.5553302  0.53759515 0.5283465  0.48587477 0.53071666\n 0.5340286  0.6348196  0.41994202 0.46957484 0.48335385 0.52298796\n 0.5407654  0.34142968 0.5135049  0.51104623 0.51115996 0.3965104\n 0.57202756 0.5704466  0.49971923 0.5285783  0.49079245 0.58826995\n 0.49469697 0.5361095  0.57416666 0.45985824 0.6080251  0.40795586\n 0.4833492  0.4499852  0.4630364  0.41040948 0.4898648  0.40492633\n 0.5985024  0.4005593  0.5677342  0.4071922  0.4923043  0.51273775\n 0.32442245 0.49529827 0.51004714 0.59276336 0.50634074 0.50348777\n 0.4082074  0.54629797 0.6501378  0.49692914 0.6061057  0.49036738\n 0.47642255 0.5035309  0.66045916 0.4937585  0.4514727  0.5779014\n 0.43998227 0.4775298  0.39751008 0.5505041  0.5714545  0.5329724\n 0.55772537 0.544991   0.4591135  0.60368496 0.5559142  0.587541\n 0.5165966  0.39385036 0.5140631  0.44713166 0.47896898 0.5198964\n 0.49688068 0.5917938  0.44249478 0.45308983 0.62643564 0.4420393\n 0.47963646 0.4950397  0.51521915 0.6006162  0.563513   0.4191641\n 0.47494933 0.43183586 0.39903492 0.3693634  0.46394244 0.59279245\n 0.43556592 0.45176858 0.4659729  0.38125923 0.5225491  0.5742283\n 0.5432537  0.5033032  0.45197293 0.57992584 0.35123414 0.4540274\n 0.461797   0.52714926 0.4180299  0.45025963 0.54191506 0.52759594\n 0.50410825 0.5132721  0.46232578 0.53843164 0.47268185 0.56392306\n 0.40514934 0.35064238 0.56224763 0.52129465 0.53271437 0.44764465\n 0.50466955 0.47445774 0.49130496 0.50515264 0.4275522  0.5606798\n 0.51749235 0.609958   0.3814243  0.52141154 0.54866755 0.50078464\n 0.50441897 0.5630397  0.4362973  0.46939495 0.47679532 0.5713377\n 0.48529914 0.43178055 0.4546996  0.4402617  0.46907198 0.49543372\n 0.4037684  0.41789696 0.4655455  0.5759952  0.4363523  0.36013308\n 0.50363874 0.5768992  0.5713601  0.4991214  0.4904895  0.5793761\n 0.4328518  0.5167166  0.5164933  0.60567534 0.4324275  0.4247975\n 0.48517802 0.56856394 0.5480149  0.5353287  0.4886292  0.5495373\n 0.53561425 0.5146507  0.53216285 0.4573007  0.36488688 0.5030985\n 0.55052835 0.543956   0.33355308 0.50724894 0.5938499  0.6065419\n 0.48346528 0.5101844  0.5217488  0.40450728 0.5710857  0.49393237\n 0.44269878 0.5228673  0.55233914 0.52755296 0.49132    0.4936951\n 0.48588926 0.4911796  0.42023152 0.4136828  0.46607578 0.41914186\n 0.57082474 0.5091536  0.46171325 0.47492358 0.46887073 0.4496693\n 0.51160026 0.50427246 0.45601162 0.49987632 0.6183788  0.4787681\n 0.53302455 0.57119715 0.5018657  0.41533107 0.5394525  0.5043405\n 0.4441477  0.53339267 0.43457213 0.56977046 0.45053968 0.42554846\n 0.48654866 0.49428123 0.45995793 0.5185015  0.56377906 0.3958757\n 0.51304644 0.42844427 0.5116732  0.49948817 0.43287876 0.4250888\n 0.55957043 0.59268975 0.50056314 0.50660145 0.38113093 0.54072785\n 0.5611685  0.4865901  0.5740004  0.5229877  0.5324024  0.4079238\n 0.5126731  0.5377849  0.5855715  0.53258634 0.3367849  0.4922808\n 0.5484426  0.48126525 0.497347   0.5570418  0.5735653  0.4664532\n 0.40491813 0.53679633 0.42014447 0.61244893 0.56496084 0.6588843\n 0.49626392 0.56374747 0.4755272  0.6071343  0.32182187 0.39477825\n 0.49180403 0.38687626 0.6740561  0.53194946 0.5046054  0.5057189\n 0.61244226 0.56380755 0.616023   0.46032342 0.5104132  0.43839428\n 0.52114964 0.49250403 0.69483614 0.57887095 0.53263384 0.49528995\n 0.5794982  0.37946793 0.52386814 0.56851244 0.5164753  0.4926391\n 0.51503277 0.5205316  0.63906175 0.32718784 0.5573343  0.4928198\n 0.565925   0.44311196 0.5693985  0.45946488 0.4600566  0.6231709\n 0.5894053  0.5693512  0.48201326 0.55618256 0.39705253 0.56171846\n 0.37940213 0.3830952  0.4774052  0.403772   0.53703153 0.5910953\n 0.50823426 0.5538036  0.5005839  0.4784433  0.56523997 0.5365103\n 0.5186274  0.57970923 0.46283615 0.62454164 0.47663984 0.33640316\n 0.42423955 0.6497607  0.4592296  0.48145264 0.46868742 0.6426496\n 0.44008282 0.512593   0.5276341  0.4459259  0.449936   0.45962724\n 0.28502542 0.5976212  0.2958717  0.387998   0.51967204 0.56310105\n 0.4468599  0.64556384 0.48177677 0.47711852 0.4956834  0.5131876\n 0.5129055  0.51405793 0.60957086 0.56513214 0.5149996  0.53306794\n 0.51069796 0.5406464  0.68322027 0.51071525 0.4492053  0.36657262\n 0.5011561  0.50929743 0.49020988 0.60939807 0.609827   0.48322988\n 0.37147546 0.42172706 0.51856977 0.53299904 0.424796   0.6322847\n 0.5217869  0.6579912  0.48214582 0.5029968  0.4057281  0.4361853\n 0.55494285 0.4540889  0.42155617 0.45405316 0.51179457 0.47745785\n 0.5107082  0.47746933 0.5210925  0.5010836  0.456936   0.41980428\n 0.51390576 0.47819355 0.3754471  0.51479363 0.4916946  0.5117183\n 0.5226411  0.4726911  0.59397405 0.6363247  0.4872567  0.58276373\n 0.56853646 0.5184561  0.6295067  0.47269127 0.44687667 0.65245634\n 0.4875845  0.4231299  0.4866186  0.5346886  0.45245767 0.5994489\n 0.5665329  0.42045903 0.53363013 0.47692394 0.53792876 0.5132071\n 0.54841006 0.54577416 0.5480854  0.7167378  0.55683005 0.46266067\n 0.3766565  0.46342906 0.3167614  0.42096427 0.5436108  0.6157528\n 0.41201246 0.48213083 0.48973384 0.49567097 0.47396183 0.4038001\n 0.52714086 0.6319326  0.5619725  0.48396298 0.48305455 0.51694274\n 0.542657   0.4770259  0.3989262  0.23508792 0.46661827 0.4499554\n 0.6107086  0.53481627 0.4892801  0.5997421  0.50298375 0.4574257\n 0.46052948 0.50642467 0.5567231  0.49757415 0.45518607 0.5253482\n 0.55847967 0.4644121  0.48297477 0.37685    0.50633246 0.5026156\n 0.5284558  0.50193065 0.4738419  0.52524793 0.4231459  0.49035034\n 0.48611563 0.46230304 0.5750612  0.61930895 0.62196845 0.45841983\n 0.4001154  0.42679778 0.57489645 0.49271166 0.4703155  0.58943933\n 0.50243837 0.5291082  0.50957507 0.41423404 0.47604886 0.42042544\n 0.48201916 0.5525827  0.6143457  0.39960176 0.52853566 0.5130023\n 0.53493226 0.48825982 0.48474964 0.48399118 0.48618516 0.5900309\n 0.6712854  0.4189767  0.46009776 0.49059552 0.52971625 0.54566693\n 0.42188117 0.48387313 0.53298765 0.40166864 0.5017084  0.4967119\n 0.20835903 0.591709   0.49827075 0.5004013  0.57380235 0.4961563\n 0.48614943 0.56075245 0.3870735  0.56423104 0.42387012 0.40350613\n 0.43118167 0.54039234 0.5276566  0.30645955 0.48529133 0.5690949\n 0.4877942  0.5058189  0.46928614 0.54106814 0.45610332 0.45759258\n 0.616976   0.51667875 0.4512892  0.78641266 0.47008392 0.5405167\n 0.41789597 0.44966    0.49220312 0.5257824  0.4055176  0.60319155\n 0.5119507  0.4713729  0.47523385 0.4628318  0.5416336  0.50199205\n 0.4544219  0.5944418  0.4102383  0.5957043  0.49951932 0.57931733\n 0.41959286 0.54733574 0.48986855 0.60087615 0.44275266 0.5978529\n 0.46822453 0.5978753  0.43954238 0.4981259  0.5756889  0.4420498\n 0.47676772 0.5358848  0.62428373 0.42257    0.38316268 0.51830655\n 0.72455823 0.37663728 0.53829515 0.5390633  0.5043712  0.5790275\n 0.5631678  0.3966815  0.4981999  0.52934206 0.50072116 0.3732061\n 0.58465666 0.390891   0.49996755 0.7485849  0.5497976  0.40129158\n 0.4999708  0.5489976  0.42960808 0.5729816  0.5114275  0.58134365\n 0.5333948  0.5126052  0.45639157 0.5380567  0.5564084  0.5927755\n 0.5568691  0.42801553 0.48010787 0.5265554  0.50152856 0.48827684\n 0.54615414 0.49680522 0.39161366 0.59324175 0.51470107 0.43385956\n 0.44290724 0.493118   0.39365247 0.40087968 0.5817481  0.6036896\n 0.5062518  0.4150037  0.6117087  0.5363288  0.5210968  0.50313056\n 0.40896294 0.62190306 0.48908386 0.53837854 0.4366282  0.4944151\n 0.5020125  0.43920785 0.39515784 0.5819068  0.6241402  0.5680804\n 0.45810443 0.57175606 0.48919952 0.492168   0.43073085 0.49797264\n 0.5122789  0.3537814  0.48774567 0.5097422  0.450822   0.40365273\n 0.5461259  0.5276444  0.51102906 0.5522311  0.5004146  0.46349204\n 0.47201607 0.36344376 0.64322287 0.49209952 0.4732395  0.61133826\n 0.4383926  0.5076431  0.45511982 0.46720695 0.5010471  0.4645511\n 0.4173565  0.41167295 0.5424489  0.4242754  0.56137216 0.53975755\n 0.47861138 0.47934097 0.42891225 0.4323435  0.50091606 0.49143317\n 0.45211372 0.32694644 0.5672116  0.41023156 0.5475015  0.603374\n 0.5544653  0.51482373 0.392371   0.47509298 0.5794673  0.4395142\n 0.59327734 0.48244256 0.39345807 0.48461246 0.5452662  0.4957166\n 0.3923562  0.44215682 0.43439454 0.51366603 0.2855153  0.4338523\n 0.44013128 0.51898694 0.35401443 0.39706773 0.47208023 0.48172387\n 0.40842    0.5374683  0.47151917 0.4683569  0.45122442 0.53414977\n 0.4768392  0.5052625  0.5633766  0.54240805 0.52453005 0.5049371\n 0.5780901  0.45639983 0.42744052 0.54340154 0.5255043  0.48907635\n 0.46998537 0.54748225 0.52103364 0.50951076 0.506804   0.46879005\n 0.5889652  0.6702938  0.45721874 0.6038803  0.5238568  0.41008174\n 0.5142319  0.49933773 0.48533016 0.5411434  0.5257272  0.48041403\n 0.4821288  0.4970624  0.48561904 0.49201348 0.37867448 0.37315178\n 0.4103308  0.45126316 0.559059   0.46866667 0.402009   0.41481945\n 0.501237   0.46457496 0.4791009  0.57765394 0.52719545 0.45753393\n 0.39718243 0.5667112  0.5347893  0.49369586 0.5458773  0.55956465\n 0.47866952 0.38092613 0.49588615 0.49346927 0.5607494  0.43625093\n 0.46502173 0.52087736 0.5159699  0.54073006 0.43768284 0.5062015\n 0.6229613  0.43756005 0.6227712  0.39043042 0.3853369  0.6207227\n 0.46425903 0.41718072 0.6433269  0.46814868 0.51405835 0.41341823\n 0.56875885 0.3661726  0.49775428 0.47056726 0.39577925 0.4602292\n 0.51322675 0.41749704 0.5003849  0.47372657 0.44887602 0.46926266\n 0.425021   0.50900424 0.5285696  0.47591576 0.43439496 0.53591484\n 0.440927   0.4959286  0.58551043 0.32599148 0.32713085 0.55270845\n 0.40378544 0.53860265 0.39603943 0.5085876  0.43791726 0.49575946\n 0.6932985  0.6074847  0.47801626 0.59143806 0.6722168  0.4359833\n 0.47476062 0.45080578 0.49227864 0.50249696 0.47222382 0.5805054\n 0.5747045  0.6039827  0.5145018  0.55382174 0.5807735  0.53319097\n 0.52889717 0.50513655 0.6570331  0.5212366  0.57370335 0.5706065\n 0.48940614 0.30280843 0.4445677  0.5524921  0.3631352  0.46043846\n 0.40150616 0.395077   0.58885336 0.4941962  0.39201468 0.50967574\n 0.516711   0.50142646 0.47140872 0.3969769  0.3772158  0.46880206\n 0.5346146  0.48501796 0.61164975 0.44923472 0.48242405 0.47128597\n 0.5632504  0.4862822  0.49725297 0.5291915  0.5301061  0.47212115\n 0.40128025 0.5973953  0.52087873 0.5222126  0.5815982  0.63187456\n 0.57540774 0.6023151  0.682723   0.4384817  0.37547752 0.49308786\n 0.46940145 0.38368908 0.63982683 0.50242555 0.48131138 0.5985118\n 0.56905407 0.44836837 0.51455724 0.46777084 0.5468913  0.5231939\n 0.47493556 0.48664612 0.49047813 0.5349605  0.51064515 0.4559353\n 0.6221358  0.5122036  0.45469043 0.47585106 0.40517703 0.5764375\n 0.45754376 0.4499469  0.4158333  0.53531265 0.474668   0.5553875\n 0.42082936 0.50527304 0.41541758 0.48681575 0.5109303  0.45364758\n 0.52004033 0.5327871  0.40504128 0.6209344  0.64861923 0.51689124\n 0.5472782  0.49092335 0.5476082  0.41151425 0.5592276  0.31945622\n 0.3959029  0.44816667 0.40506256 0.54117596 0.42081365 0.38684976\n 0.40353307 0.5501917  0.4870761  0.5412521 ]",
      "true_parameters": "[[0.2532538  0.1718514  0.57489485]\n [0.20306794 0.48679486 0.3101372 ]\n [0.8536357  0.09583956 0.05052473]\n ...\n [0.49381873 0.31967607 0.18650517]\n [0.37305263 0.22287646 0.4040709 ]\n [0.33246818 0.21258438 0.45494744]]",
      "predicted_parameters": "[[0.25111234 0.38319504 0.36569268]\n [0.23058693 0.46872875 0.30068448]\n [0.31338072 0.31724727 0.36937222]\n ...\n [0.3075747  0.35468903 0.3377363 ]\n [0.33193645 0.38509524 0.28296828]\n [0.19817753 0.4961104  0.30571225]]",
      "validation_observations": "[[337. 326. 143.]\n [343. 287. 155.]\n [367. 280. 127.]\n ...\n [373. 290. 146.]\n [357. 287. 138.]\n [331. 292. 151.]]",
      "AF488_correlation": 0.36792938443972134,
      "AF488_mae": "0.17999054",
      "AF488_rmse": "0.21778639",
      "AF555_correlation": 0.3517979323787075,
      "AF555_mae": "0.18722208",
      "AF555_rmse": "0.223864",
      "AF647_correlation": -0.004948116960798651,
      "AF647_mae": "0.19606708",
      "AF647_rmse": "0.23636806"
    },
    "multiplexing": {
      "n_fluorophores": 3,
      "n_channels": 3,
      "r_squared_threshold": 0.7,
      "good_performance_fraction": 0.01,
      "mean_r_squared": "0.50230455",
      "r_squared_distribution": "[0.56772023 0.47440216 0.5241943  0.54986215 0.51487774 0.6252675\n 0.5338161  0.60078424 0.42356858 0.42353955 0.49080223 0.5089246\n 0.4841873  0.60788846 0.55665123 0.422023   0.6142592  0.4455744\n 0.41491127 0.52493525 0.55119514 0.5527021  0.49749997 0.5322386\n 0.4412744  0.5069548  0.5043767  0.43736026 0.5533308  0.52429664\n 0.5450251  0.40847737 0.50788647 0.462038   0.49921668 0.42768803\n 0.3986936  0.5039734  0.43182662 0.58423316 0.4736872  0.6829097\n 0.51828766 0.54547304 0.55219644 0.54184735 0.43344843 0.43139294\n 0.39683557 0.43250522 0.38196677 0.4544458  0.4873348  0.5770283\n 0.43996882 0.572462   0.5086704  0.5887911  0.49543607 0.79119074\n 0.39561903 0.5756917  0.43001774 0.52435803 0.4506666  0.57652164\n 0.45948127 0.4425426  0.49329334 0.423956   0.5286581  0.4089795\n 0.5683762  0.50420856 0.5479544  0.48467198 0.59000945 0.50753\n 0.48745102 0.5288326  0.5687966  0.48705783 0.49949196 0.4957834\n 0.36900225 0.51387733 0.37036583 0.6162673  0.4530307  0.4820097\n 0.41983628 0.45109028 0.5737978  0.5615246  0.6509811  0.18164718\n 0.49618778 0.5298645  0.4455004  0.6511631 ]",
      "filter_configuration": {
        "center_wavelengths": [
          595.0240320896266,
          599.4457526338305,
          614.3500614227268
        ],
        "bandwidths": [
          48.65382026585599,
          45.180156896145576,
          28.400748078414658
        ]
      }
    },
    "configuration": {
      "filters": {
        "center_wavelengths": [
          595.0240320896266,
          599.4457526338305,
          614.3500614227268
        ],
        "bandwidths": [
          48.65382026585599,
          45.180156896145576,
          28.400748078414658
        ],
        "score": 16.221577794811513
      },
      "excitation": {
        "AF488": "497",
        "AF555": "552",
        "AF647": "650"
      },
      "fluorophores": [
        "AF488",
        "AF555",
        "AF647"
      ]
    }
  }
}